#:import NoTransition kivy.uix.screenmanager.NoTransition
#:import Window kivy.core.window.Window
#:import IconLeftWidget kivymd.uix.list.IconLeftWidget



#:import Window kivy.core.window.Window
#:import get_hex_from_color kivy.utils.get_hex_from_color
#:import kivymd.uix.toolbar kivymd.uix.toolbar.toolbar.OverFlowMenu

<ContentNavigationDrawer>:
    orientation: "vertical"
    padding: "8dp"
    spacing: "8dp"
    radius: 16
    md_bg_color: get_color_from_hex("#004d40")
        
    Image:
        size_hint: None, None
        size: "160dp", "160dp"
        source: "img/amages.png"
        padding: "8dp"
        spacing: "8dp"

    MDLabel:
        text: "Softwer engineer"
        font_style: "Caption"
        adaptive_height: True

    MDLabel:
        text: "711924474as@gmail.com"
        font_style: "Caption"
        adaptive_height: True


    ScrollView:
        MDList:
            size_hint_y: None
            height: self.minimum_height
            spacing: "20dp"
            padding: "20dp"                        
            cols: 1
            MDRoundFlatIconButton:
                text: "My files"
                icon: "folder"
                md_bg_color: get_color_from_hex("#000000")
                on_release: app.file_manager_open()

            MDRoundFlatIconButton:
                text: "Shared with me"
                icon: "account-multiple"
                md_bg_color: get_color_from_hex("#000000")
                on_release: app.show_example_grid_bottom_sheet()
 
 
            MDRoundFlatIconButton:
                text: "about me"
                icon: "checkbox-marked"
                md_bg_color: get_color_from_hex("#000000")
                on_release: app.show_example_bottom_sheet()
 
            MDRoundFlatIconButton:
                text: "Search for an update "
                icon: "upload"
                md_bg_color: get_color_from_hex("#000000")
                on_release: 
                    import webbrowser
                    webbrowser.open('https://www.amazon.com/gp/product/B0CJ7N7HFZ')



# Login menu
<LoginMenuScreen>
    name: "login"

    email: email
    password: password

    # Background image
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'img/bg.jpg'

    # Float screen
    FloatLayout:

        # Action bar
        ActionBar:
            pos_hint: {'top':1}
            background_color: "#000000"
            background_image: 'img/bg.jpg'
            ActionView:
                use_separator: True
                ActionPrevious:
                    markup: True
                    title: '[b][font=Barare]Login[/font][/b]'
                    with_previous: False
                    markup: True
                    app_icon: "img/icon.png"

        # Login text

        Label:
            markup: True 
            size_hint: .8, 0.2
            pos_hint: {"center_x": 0.5, "center_y": 0.8}
            text: "[b][font=RobotoMono-Regular]Enter Login Email: [/font][/b]"
            background_color: "#FFFFFF"
            spacing: "4dp"
            padding: "4dp"


        # Password input
        TextInput:
            id: email
            size_hint: .5, None
            multiline: False
            height: "30dp"
            halign: "center"
            background_color: "#111111"
            foreground_color: "#FFFFFF"
            pos_hint: {"center_x": 0.5, "center_y": 0.7}

        Label:
            markup: True 
            size_hint: .8, 0.2
            pos_hint: {"center_x": 0.5, "center_y": 0.6}
            text: "[b][font=RobotoMono-Regular]Enter Password:  [/font][/b]"
            background_color: "#FFFFFF"
            spacing: "4dp"
            padding: "4dp"
        TextInput:
            id: password
            size_hint: .5, None
            multiline: False
            height: "30dp"
            halign: "center"
            background_color: "#111111"
            foreground_color: "#FFFFFF"
            pos_hint: {"center_x": 0.5, "center_y": 0.5}

        Button:
            size_hint: .25, None
            height: "30dp"
            markup: True
            text: "[b][font=RobotoMono-Regular]Login[/font][/b]"
            background_color: "#111111"
            foreground_color: "#FFFFFF"
            password: True
            pos_hint: {"center_x": 0.375, "center_y": 0.4}
            on_release:
                root.manager.transition.direction = "up"
                root.loginBtn()

        
        # Quit button
        Button:
            size_hint: .25, None
            height: "30dp"
            markup: True
            text: "[b][font=RobotoMono-Regular]Quit[/font][/b]"
            background_color: "#111111"
            foreground_color: "#FFFFFF"
            password: True
            pos_hint: {"center_x": 0.625, "center_y": 0.4}
            on_press: exit()

        # Guest login button
        Button:
            size_hint: .5, None
            height: "30dp"
            markup: True
            text: "[b][font=RobotoMono-Regular]Don't have an Account?[color=#FF0000] Create One[/color][/font][/b]"
            background_color: "#111111"
            foreground_color: "#FFFFFF"
            password: True
            pos_hint: {"center_x": 0.5, "center_y": 0.3}
            on_press:
                root.manager.transition.direction = 'right'
                root.manager.current = 'GuestMenu'

       # Developer
        Label:
            markup: True 
            size_hint: .8, 0.2
            pos_hint: {"center_x": 0.5, "bottom": 0.9}
            text: "[b][font=RobotoMono-Regular]By [color=#FF0000]Tahnoon[/color][/font][/b]"
            background_color: "#FFFFFF"

<MainMenuScreen>

    MDNavigationLayout:

        ScreenManager:

            MDScreen:

                MDBoxLayout:
                    orientation: 'vertical'

                    MDTopAppBar:
                        title: "Hacker app"
                        elevation: 10
                        left_action_items: [['menu', lambda x: nav_drawer.set_state("open")]]


                    MDBottomNavigation:
                        selected_color_background: "orange"
                        text_color_active: "orange"
                        text_color_normal: "orange"
                        panel_color: "black"
        
                        MDBottomNavigationItem:
                            name: 'screen 1'
                            text: 'Home'
                            icon: 'home'
                            MDBackdrop:
                                id: backdrop
                               # on_open: print("on_open")
                               # on_close: print("on_close")
                                left_action_items: [["menu", lambda x: self.open()]]
                                header_text: "Menu:"

                                MDBackdropBackLayer:
                                    MyBackdropBackLayer:
                                        id: backlayer

                                MDBackdropFrontLayer:
                                    MyBackdropFrontLayer:
                                        backdrop: backdrop
                                        backlayer: backlayer



                        MDBottomNavigationItem:
                            name: 'screen 2'
                            text: 'injection'
                            icon: 'database-search'

                            MDLabel:
                                text: "Welcome to the injection page, it is found here in the following sections. Injections or payloads that are used to test any website on the Internet and obtain new security vulnerabilities!!!!"
                                theme_text_color: "Custom"
                                md_bg_color:get_color_from_hex("#afb42b")
                                size_hint_y: None
                                halign: "center"
                            MDSeparator:

                            ScrollView:
                                GridLayout:
                                    size_hint_y: None
                                    height: self.minimum_height
                                    spacing: "10dp"
                                    padding: "5dp"
                                    cols: 1
                                    TwoLineAvatarIconListItem:
                                        text: "show all injection sql .."
                                        on_release: lambda a:self.ads.show_rewarded_ad()
                                        on_press : app.show_all_injection_sql()
                                        secondary_text: "Secondary text here"
                                        IconLeftWidget:
                                            icon: "database"

                                    TwoLineAvatarIconListItem:
                                        text: "show all injection SSX .."
                                        secondary_text: "Secondary text here"
                                        on_press: app.show_all_injection_ssx()
                                        IconLeftWidget:
                                            icon: "database"

                                    TwoLineAvatarIconListItem:
                                        text: "show injection command"
                                        secondary_text: "Secondary text here"
                                        on_press: app.show_all_injection_command()
                                        IconLeftWidget:
                                            icon: "database"

                                    TwoLineAvatarIconListItem:
                                        text: "show all injection Xml  .."
                                        secondary_text: "Secondary text here"
                                        on_press: app.show_all_injection_xml()
                                        IconLeftWidget:
                                            icon: "database"

                                    TwoLineAvatarIconListItem:
                                        text: "show all injection SSRF "
                                        secondary_text: "Secondary text here"
                                        on_press: app.show_all_injection_ssrf()
                                        IconLeftWidget:
                                            icon: "database"

                                    MDSeparator:



                        MDBottomNavigationItem:
                            name: 'screen 3'
                            text: 'scan'
                            icon: 'database-off'

                            MDLabel:
                                text: "Welcome to the scanning tools page, here are the tools that are used to scan and scrape any website on the Internet and get complete information to start hacking,and obtain new security vulnerabilities for the year 2023"
                                theme_text_color: "Custom"
                                md_bg_color:get_color_from_hex("#afb42b")
                                size_hint_y: None
                                halign: "center"
                            MDSeparator:

                            ScrollView:
                                GridLayout:
                                    size_hint_y: None
                                    height: self.minimum_height
                                    spacing: "5dp"
                                    padding: "10dp"
                                    cols: 1
                                        
                                    TwoLineAvatarIconListItem:
                                        text: "nmap"
                                        secondary_text:"Nmap is a free and open source utility for network discovery and security auditing"
                                        on_press : app.interstitial()
                                        IconLeftWidget:
                                            icon: "database"
                                        
                                    TwoLineAvatarIconListItem:
                                        text: "amass"
                                        secondary_text: "Amass Project performs network mapping of attack surfaces and external asset discovery "
                                        on_press : app.interstitial()
                                        IconLeftWidget:
                                            icon: "database"

                                    TwoLineAvatarIconListItem:
                                        text: "wpscan"
                                        secondary_text:"WPScan, you'll be the first to know about vulnerabilities affecting your WordPress installation"
                                        on_press : app.interstitial()
                                        IconLeftWidget:
                                            icon: "database"

                                    TwoLineAvatarIconListItem:
                                        text: "SpiderFoot"
                                        secondary_text:"SpiderFoot is an open source intelligence (OSINT) automation tool"
                                        on_press : app.interstitial()
                                        IconLeftWidget:
                                            icon: "database"

                                    TwoLineAvatarIconListItem:
                                        text: "network"
                                        secondary_text:"Airpwn is a framework for 802.11 (wireless) packet injection. Airpwn listens to incoming wireless packets"
                                        on_press : app.interstitial()
                                        IconLeftWidget:
                                            icon: "database"

            
                        MDBottomNavigationItem:
                            name: 'screen 4'
                            text: 'Profile'
                            icon: 'briefcase'
                                
                            FloatLayout:
                                ActionBar:
                                    pos_hint: {'top':1}
                                    background_color: "#000000"
                                    background_image: 'img/bg.jpg'
                                    ActionView:
                                        use_separator: True
                                        ActionPrevious:
                                            markup: True
                                            title: '[b][font=RobotoMono-Regular]Login information[/font][/b]'
                                            with_previous: False
                                            markup: True
                                            app_icon: "img/icon.png"


                                Button:
                                    size_hint: .25, None
                                    height: "50dp"
                                    markup: True
                                    text: "[b][font=RobotoMono-Regular] Profile [/font][/b]"
                                    background_color: "#FF0000"
                                    foreground_color: "#FF0000"
                                    pos_hint: {"center_x": 0.250, "center_y": 0.7}
                                    on_release:
                                        app.interstitial()
                                        root.manager.transition.direction = "up"
                                        root.manager.current = 'Profile'
                                Button:
                                    size_hint: .25, None
                                    height: "50dp"
                                    markup: True
                                    text: "[b][font=RobotoMono-Regular] about [/font][/b]"
                                    background_color: "#FF0000"
                                    foreground_color: "#FFFFFF"
                                    pos_hint: {"center_x": 0.655, "center_y": 0.7}
                                    on_release:
                                        app.interstitial()
                                        root.manager.transition.direction = "up"
                                        root.manager.current = 'AboutMenu'
                                        

        MDNavigationDrawer:
            id: nav_drawer

            ContentNavigationDrawer:
                id: content_drawer
# About menu
<AboutMenuScreen>

    # Background image
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'img/bg.jpg'

    # Float layout
    FloatLayout:

        # Action bar
        ActionBar:
            pos_hint: {'top':1}
            background_color: "#444444"
            ActionView:
                use_separator: True
                ActionPrevious:
                    title: '[b][font=Barare]About[/font][/b]'
                    with_previous: False
                    markup: True
                    app_icon: "img/icon.png"
                ActionButton:
                    icon: 'img/user.png'
                    size_hint: 0.1,0.7
                    pos_hint: {"center_y": 0.5}
                    on_press:
                        root.manager.transition.direction = 'right'
                        root.manager.current = 'Profile'

        # Icon
        Image:
            source: "img/icon.png"
            size_hint: 1, 1
            pos_hint: {"center_y":0.8}

        # About text
        ScrollView:
            do_scroll_x: True
            do_scroll_y: True
            size_hint: (0.95, 0.40)
            pos_hint: {"center_y":0.3}

            Label:
                id: result
                font_name: "RobotoMono-Regular"
                size_hint_y: None
                height: self.texture_size[1]
                text_size: self.width, None
                padding: 50, 0
                markup: True
                halign: "left"
                color: "#CCCCCC"
                text: "\n[b]So... This is vulnerability scane App I build  hacking tools! that are used to scan and scrape any website on the Internet and get complete information to start hacking,and obtain new security vulnerabilities for the year 2023  \n \n[color=#FF0000] Website[/color]:     https://github.com/abrahim7112 [color=#FF0000] \n number phone [/color]:     +967775796741 [color=#FF0000] \n mail[/color]:    711924474as@gmail.com[/b]"

        # Main menu button
        Button:
            font_name: 'Barare'
            size_hint: (0.5, 0.05)
            background_color: "#111111"
            foreground_color: "#000000"
            bold: True
            pos_hint: {"bottom":1, "left":1}
            text: 'MainMenu'
            on_press:
                root.manager.transition.direction = 'right'
                root.manager.current = 'MainMenu'

        # About menu button
        Button:
            font_name: 'Barare'
            size_hint: (0.5, 0.05)
            background_color: "#111111"
            foreground_color: "#000000"
            bold: True
            pos_hint: {"bottom":1, "right":1}
            text: 'About'
            disabled: True
            disabled_color: "#FF0000"

# Profile menu
<ProfileScreen>
    n: n
    email: email
    created:created
    # Background image
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'img/bg.jpg'

    # Float layout
    FloatLayout:

        # Action bar
        ActionBar:
            pos_hint: {'top':1}
            background_color: "#444444"
            ActionView:
                use_separator: True
                ActionPrevious:
                    title: '[b][font=Barare]Profile[/font][/b]'
                    with_previous: False
                    markup: True
                    app_icon: "img/icon.png"

        # Logo
        Image:
            source: "img/user.png"
            size_hint: 1, 1
            pos_hint: {"center_y":0.8}

        #  Username
        Label:
            id: n
            pos_hint:{"x": 0.1, "top":0.7}
            size_hint:0.8, 0.2
            text: "Account Name : "

        Label:
            id: email
            pos_hint:{"x": 0.1, "top":0.6}
            size_hint:0.8, 0.2
            text: "Email : "

        Label:
            id: created
            pos_hint:{"x": 0.1, "top":0.5}
            size_hint:0.8, 0.2
            text: "Created : "

        Button:
            pos_hint:{"x":0.2, "y": 0.1}
            size_hint:0.6,0.2
            text: "Log Out"
            on_press:
                root.manager.transition.direction = 'left'
                root.manager.current = 'LoginMenu'

        Button:
            font_name: 'Barare'
            size_hint: (0.5, 0.05)
            background_color: "#111111"
            foreground_color: "#000000"
            bold: True
            pos_hint: {"bottom":1, "left":1}
            text: 'Back'
            on_press:
                root.manager.transition.direction = 'left'
                root.manager.current = 'MainMenu'

        # Logout button
        Button:
            font_name: 'Barare'
            size_hint: (0.5, 0.05)
            background_color: "#111111"
            foreground_color: "#000000"
            bold: True
            pos_hint: {"bottom":1, "right":1}
            text: 'Logout'
            on_press:
                root.manager.transition.direction = 'left'
                root.manager.current = 'LoginMenu'

# Guest Menu
<GuestMenuScreen>

    name: "create"

    namee: namee
    email: email
    password: passw
    # Background
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'img/bg.jpg'

    # Float layout
    FloatLayout:

        # Action bar
        ActionBar:
            pos_hint: {'top':1}
            background_color: "#444444"
            ActionView:
                use_separator: True
                ActionPrevious:
                    title: '[b][font=Barare]Account Menu[/font][/b]'
                    with_previous: False
                    markup: True
                    app_icon: "img/icon.png"

       # Features text
        Label:
            pos_hint: {'center_y': 0.8}
            font_name: "RobotoMono-Regular"
            markup: True
            halign: "center"
            color: "#FFFFFF"
            text: "[b]Create an Account[/b]"

        Label:
            markup: True 
            size_hint: .8, 0.2
            pos_hint: {"center_x": 0.250, "center_y": 0.7}
            text: "[b][font=RobotoMono-Regular]Name: [/font][/b]"
            background_color: "#FFFFFF"

        TextInput:
            id: namee
            size_hint: .5, None
            multiline: False
            height: "30dp"
            halign: "center"
            background_color: "#111111"
            foreground_color: "#FFFFFF"
            pos_hint: {"center_x": 0.550, "center_y": 0.7}

        Label:
            markup: True 
            size_hint: .8, 0.2
            pos_hint: {"center_x": 0.250, "center_y": 0.6}
            text: "[b][font=RobotoMono-Regular]Email:  [/font][/b]"
            background_color: "#FFFFFF"

        TextInput:
            id: email
            size_hint: .5, None
            multiline: False
            height: "30dp"
            halign: "center"
            background_color: "#111111"
            foreground_color: "#FFFFFF"
            pos_hint: {"center_x": 0.550, "center_y": 0.6}

        Label:
            markup: True 
            size_hint: .25, None
            height: "30dp"
            background_color: "#111111"
            foreground_color: "#FFFFFF"
            pos_hint: {"center_x": 0.250, "center_y": 0.5}
            text: "[b][font=RobotoMono-Regular]password :  [/font][/b]"
            background_color: "#FFFFFF"

        TextInput:
            id: passw
            size_hint: .5, None
            multiline: False
            height: "30dp"
            halign: "center"
            background_color: "#111111"
            foreground_color: "#FFFFFF"
            pos_hint: {"center_x": 0.550, "center_y": 0.5}


        Button:
            size_hint: .25, None
            height: "30dp"
            markup: True
            text: "[b][font=RobotoMono-Regular]Submit[/font][/b]"
            background_color: "#111111"
            foreground_color: "#FFFFFF"
            password: True
            pos_hint: {"center_x": 0.375, "center_y": 0.4}
            on_release:
                root.manager.transition.direction = "left"
                root.submit()

        
        # Quit button
        Button:
            size_hint: .25, None
            height: "30dp"
            markup: True
            text: "[b][font=RobotoMono-Regular]Quit[/font][/b]"
            background_color: "#111111"
            foreground_color: "#FFFFFF"
            password: True
            pos_hint: {"center_x": 0.625, "center_y": 0.4}
            on_press: exit()

        # Guest login button
        Button:
            size_hint: .5, None
            height: "30dp"
            markup: True
            text: "[b][font=RobotoMono-Regular]Already have an Account?[color=#FF0000] Log In[/color][/font][/b]"
            background_color: "#111111"
            foreground_color: "#FFFFFF"
            password: True
            pos_hint: {"center_x": 0.5, "center_y": 0.3}
            on_press:
                root.manager.transition.direction = 'right'
                root.manager.current = 'LoginMenu'

        Button:
            font_name: 'Barare'
            size_hint: (0.5, 0.05)
            background_color: "#111111"
            foreground_color: "#000000"
            bold: True
            pos_hint: {"bottom":1, "left":1}
            text: 'Quit'
            on_press:
                exit()

        # Login menu button
        Button:
            font_name: 'Barare'
            size_hint: (0.5, 0.05)
            background_color: "#111111"
            foreground_color: "#000000"
            bold: True
            pos_hint: {"bottom":1, "right":1}
            text: 'LogIn'
            on_press:
                app.interstitial()
                root.manager.transition.direction = 'right'
                root.manager.current = 'LoginMenu'


